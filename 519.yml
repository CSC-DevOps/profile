- group:
   description: "Essential development tools"
   checks:
     - version:
         cmd: node --version
         range: ^16.13.x
     - version:
         cmd: git --version
         range: ^2.34.x
- group:
   description: "Git configuration"
   checks:
     - contains: 
         comment: Checking email is set for git commits
         string: "@"
         file: ~/.gitconfig       
     - command:
         exec: git config  --get user.name
         exitCode: 0
     - command:
         exec: git config  --get user.email
         exitCode: 0
- group:
   description: "Package manager for your operating system"
   any:
     - version:
         comment: Package manager for MacOS.
         cmd: brew -v
         range: ^3.3.9
     - version:
         comment: Package manager for Ubuntu (Debian) Linux.
         cmd: apt -v
         range: ^2.0.6
     - version:
         comment: Package manager for Windows.
         cmd: choco -v
         range: ^0.11.3
- group:
   description: "Check if have basic shell commands available"
   any:
     - command:
         comment: Can you run the basics?.
         exec: ls -l | sort
         exitCode: 0
     - command:
         comment: If not, do you have git additional binaries on your path?
         exec: REG query HKCU\Environment /F "C:\Program Files\Git\usr\bin"
         exitCode: 0
     - command:
         comment: If not, do you have git additional binaries on your path?
         exec: REG query "HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\Environment" /F "C:\Program Files\Git\usr\bin"
         exitCode: 0
- group:
   description: "Shell utilities"
   checks:
     - version:
         cmd: ssh -V
         range: ^2.x.x
     - version:
         cmd: curl --version
         range: ^7.x.x
     - version:
         cmd: wget --version
         range: ^1.9.x      
     - version:
         comment: Very useful utility for parsing json files. Download from https://stedolan.github.io/jq/download/
         cmd: jq --version
         range: ^1.5.x                  

- group:
   description: "WSL check"
   checks:
     - command:
         comment: You should not be running this program in a WSL environment.
         exec: uname -a
         stdout: Linux.*Microsoft
         expect: false

# - group:
#    description: "Docable tools"
#    checks:
#      - version:
#          comment: You will need this tool in order to complete exercises.
#          cmd: docable-server --version
#          range: ^0.1.1    
#          optional: true             

- group:
   description: "Editor support"
   checks:
     - version:
         comment: Visual Studio Code is a great editor for editing configuration scripts.
         cmd: code --version
         range: ^1.52.1
     - command: 
         exec: vim --version | head -n 1
         stdout: Vi IMproved

- group:
   description: "Configuring vim syntax highlighting"
   any:
     - contains: 
         comment: Syntax highlighting should be enabled in vim!
         string: "syntax on"
         file: ~/.vimrc
     - contains: 
         comment: Syntax highlighting should be enabled in vim (windows)!
         string: "syntax on"
         file: ~/_vimrc
- group:         
   description: "Configuring vim pastetoggle"
    # https://stackoverflow.com/questions/2514445/turning-off-auto-indent-when-pasting-text-into-vim
   any:
     - contains: 
         comment: Setting pastetoggle is useful when copying code in vim. Example `set pastetoggle=<F8>`
         string: "set pastetoggle"
         file: ~/.vimrc
     - contains: 
         comment: Setting pastetoggle is useful when copying code in vim (Windows). Example `set pastetoggle=<F8>`
         string: "set pastetoggle"
         file: ~/_vimrc

- group:
   description: "Computer capability and virtualization support"
   checks:
     - capability:
         memory: 4
         cores: 2
         virtualization: true
- group:
   description: "Virtualization platform"
   any:
     - version:
         comment: A virtualization framework for Intel based processors.
         cmd: VBoxManage --version
         range: ^6.1.30
     - command:
         comment: Mac M1 has native support for virtualization through OS hypervisor.
         exec: uname -a
         stdout: Darwin.*arm64
- group:
   description: "Virtualization tools"
   any:
     - version:
         cmd: multipass version
         range: ^1.0.0
     - version:
         cmd: bakerx --version
         range: ^6.1.16
     - version:
         cmd: bakerx-m1 --version
         range: ^1.0.0